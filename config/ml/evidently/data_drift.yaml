# Evidently Data Drift Configuration
# Configuration for data drift monitoring

data_drift:
  name: "evidently_data_drift"
  version: "1.0.0"
  description: "Data drift monitoring configuration for PBF-LBM features"
  
  reference_data:
    source: "training_data"
    window_size: "30_days"
    min_samples: 1000
    
  current_data:
    source: "production_data"
    window_size: "1_day"
    min_samples: 100
    
  drift_detection:
    methods:
      - name: "statistical_tests"
        enabled: true
        tests:
          - name: "ks_test"
            threshold: 0.05
          - name: "chi_square_test"
            threshold: 0.05
          - name: "mann_whitney_u"
            threshold: 0.05
            
      - name: "distance_metrics"
        enabled: true
        metrics:
          - name: "jensen_shannon_divergence"
            threshold: 0.1
          - name: "kl_divergence"
            threshold: 0.1
          - name: "wasserstein_distance"
            threshold: 0.1
            
      - name: "psi"
        enabled: true
        threshold: 0.1
        bins: 10
        
  features:
    - name: "laser_power"
      type: "numerical"
      drift_threshold: 0.1
    - name: "scan_speed"
      type: "numerical"
      drift_threshold: 0.1
    - name: "hatch_spacing"
      type: "numerical"
      drift_threshold: 0.1
    - name: "layer_thickness"
      type: "numerical"
      drift_threshold: 0.1
    - name: "energy_density"
      type: "numerical"
      drift_threshold: 0.1
    - name: "material_type"
      type: "categorical"
      drift_threshold: 0.1
    - name: "build_orientation"
      type: "categorical"
      drift_threshold: 0.1
      
  monitoring:
    frequency: "hourly"
    alerting:
      enabled: true
      channels: ["slack", "email"]
      thresholds:
        warning: 0.1
        critical: 0.2
        
  reporting:
    enabled: true
    frequency: "daily"
    format: "html"
    dashboard_url: "http://evidently-dashboard:3000"
